!function(t){"use strict";function r(t){var r=/^\s+|\s+$/g;return t.replace(r,"")}function e(){this.attributes={},this.phrases={},this.sequence=[]}var n,i,s={deafultText:"Missing phrase: ",filter:"|",locale:"en",notation:".",throwError:!0};e.prototype.set=function(t){for(var r in t)this.attributes[r]=t[r];return this},e.prototype.restore=function(){return this.constructor.call(this),this},e.prototype.parse=function(t){var e=t.split(this.attributes.filter),n=e.length-1;for(t=r(e[0]),e=(this.attributes.filters||[]).concat(e.slice(1));n--;)this.sequence.push(r(e[n]));return t},e.prototype.process=function(t,e){var n,i=this.sequence.length;if(t=this.phrases[t],void 0!==t){for(;i--;)n=this.filters[this.sequence[i]],n instanceof Function&&(t=n.call({},t,e||{}));t=r(t)}return this.sequence=[],t},e.prototype.extend=function(t,r){var e,n;for(e in t)n=t[e],void 0!==r&&(e=r+this.attributes.notation+e),n instanceof Object?this.extend(n,e):this.phrases[e]=n;return this},n=new e,n.filters={},t.wordsmith=t.ws=i=function(t,r){return t=n.parse(t),n.process(t,r)||(i.get("throwError")?i.get("deafultText")+t:"")},i.extend=function(t,r){var e={};return t&&t.constructor===String?e[t]=r:e=t||e,n.extend(e),this},i.set=function(t,r){var e={};return t&&t.constructor===String?e[t]=r:e=t||e,n.set(e),this},i.get=function(t){return n.attributes[t]},i.replace=function(t){return n.phrases=t||{},this},i.restore=function(){return n.restore(),this.set(s),this},i.registerFilter=function(t,r){if(t&&t.constructor===String)return n.filters[t]=r,this;for(r in t)n.filters[r]=t[r];return this},i.restore()}(this),function(t){"use strict";var r=t.wordsmith;r.set("expression",/%\{(.*?)\}/g),r.registerFilter("expression",function(t,e){var n=r.get("expression");return t.replace(n,function(t,r){return e[r]||""})})}(this),function(t){"use strict";function r(t){var r,i,s,o=e.get("locale")||"en";for(s=n.length-1;s;s--)for(r=n[s].slice(1),i=r.length;i--;)if(r[i]===o)return n[s][0](t)}var e=t.wordsmith,n=[[function(t){return t%10!==1||t%100===11?1:0},"is"],[function(t){return 1===t?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2},"pl"],[function(t){return 1===t?0:t>=2&&4>=t?1:2},"cs"],[function(t){return t%10===1&&t%100!==11?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2},"hr","ru"],[function(t){return t>1?1:0},"fr","tl","pt-br"],[function(t){return 1!==t?1:0},"da","de","en","es","fi","gb","el","he","hu","it","nl","no","pt","sv","uk"],[function(){return 0},"fa","id","ja","ko","lo","ms","th","tr","zh"]];e.set({delimiter:"||"}),e.registerFilter("pluralize",function(t,n){var i,s,o=e.get("delimiter");if(~t.indexOf(o)){if(t=t.split(o),isNaN(n)){for(i in n)if(!isNaN(n[i])){s=+n[i];break}}else s=+n;t=t[r(s||0)]}return t})}(this);